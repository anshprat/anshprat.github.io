---
layout: post
title: How to restore all apps from backup on android
date: 2011-11-04 15:08:23.000000000 +01:00
categories: []
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
author: 
---
<p>I ve been changing my roms often on my nexus S, the latest being <a href="http://www.addictivetips.com/mobile/install-android-4-0-ice-cream-sandwich-on-nexus-s-guide/" target="_blank">Icecream</a>. One thing thats always been painful was all application restore across roms. Market downloads it all over again but you ve to wait for it. In my case, my apps size about 300 MB in all, abut 130 apps. So I ve to wait for all of them to download all over again.</p>
<p>There are means and ways of taking backup and restores. But being a command line guy, I always was too lazy for them. That's when I decided to create my own way of backing up the apps and restoring them.</p>
<p>I am assuming you'll know what it means by adb and mount when you read them. If not, please head over to xda forums or other similar android forums. Another assumption am making is you are already rooted.</p>
<p>How to take backup of apps before flashing:</p>
<p>1) Go to recovery -> mounts and storage<br />
2) mount /data and /sdcard.<br />
3) mount USB storage<br />
4) go to adb shell<br />
5) Copy your app .apk files to the USB storage<br />
    mkdir /sdcard/app_backup<br />
    cp -rv /data/app/* /sdcard/app_backup</p>
<p>Once you are done, you can make another copy out of the USB storage on your computer as well.</p>
<p>When you are done with your flash, repeat the above (1-4) steps, and copy the files from /sdcard/app_backup to /data/app/<br />
cp -rv /sdcard/app_backup /data/app/</p>
<p>(there is adb push and pull as well, I ven't tried that. See adb -h for more info and maybe you can try that as well).</p>
<p>6) clear the cache  (wipe cache partition)<br />
7) Advanced -> wipe dalvik cache</p>
<p>8) reboot :)</p>
<p>The reboot might take time after the steps above for restore as it will create the dalvik cache out of the apps.<br />
It might look like its stuck on the bootloader screen (CM round circle or whatever is your rom). Give it sometime, go for a coffee. Time will depend upon your number of apps. I did went for a cup of coffee and it was ready by the time I came back.</p>
<p>This is a very rudimentary post on how to restore apps. You can create nandroid backups as well. In that case your /data will be saved as data.ext.tar or something similar. Just untar it and get the files for restoring.</p>
<p>Let me know if you need more help. </p>
<p>cheers<br />
Anshu Prateek</p>
<p>PS: In case you want to unroot your nexus s to a stock image, here is a good compilation of stock images:<br />
<a href="http://forum.xda-developers.com/showthread.php?t=1063664" target="_blank">http://forum.xda-developers.com/showthread.php?t=1063664</a></p>
